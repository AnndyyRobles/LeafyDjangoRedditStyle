{% extends 'main.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'styles/main_technique.css' %}">
<!-- Botón Back to Techniques en un recuadro -->
<div class="back-nav-container">
    <div class="card back-nav-card">
        <a href="{% url 'techniques' %}" class="back-nav-link">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 32 32" class="back-nav-icon">
                <title>Volver a técnicas</title>
                <path d="M13.723 2.286l-13.723 13.714 13.719 13.714 1.616-1.611-10.96-10.96h27.625v-2.286h-27.625l10.965-10.965-1.616-1.607z"></path>
            </svg>
            Volver a Técnicas
        </a>
    </div>
</div>

<div class="dashboard">
    <!-- Title card (70%) -->
    <div class="card title-card">
        <h1>{{ title }}</h1>
        <span class="technique-type">{{ technique_type }}</span>
    </div>
    
    <!-- Author card (30%) -->
    <div class="card author-card">
        <div class="author-details">
            <p class="author-label">Técnica de cultivo</p>
            <h3 class="author-name">{{ technique_type }}</h3>
            <p class="creation-date">Técnica principal</p>
        </div>
    </div>
    
    <!-- Main image card -->
    <div class="card main-image-card">
        {% if main_image %}
        <img src="{{ main_image }}" alt="{{ title }}">
        {% else %}
        <div class="placeholder-image">
            <h2 class="placeholder-text">{{ technique_type }}</h2>
        </div>
        {% endif %}
    </div>
    
    <!-- Meta info card -->
    <div class="card meta-info-card">
        <div class="meta-item">
            <p class="meta-label">Dificultad</p>
            <p class="meta-value">
                <span class="difficulty-tag {% if difficulty == 'Principiante' %}beginner{% elif difficulty == 'Intermedio' %}intermediate{% else %}advanced{% endif %}">{{ difficulty }}</span>
            </p>
        </div>
        
        <div class="meta-item">
            <p class="meta-label">Espacio requerido</p>
            <p class="meta-value">{{ space }}</p>
        </div>
        
        <div class="meta-item">
            <p class="meta-label">Tiempo de instalación</p>
            <p class="meta-value">{{ setup_time }}</p>
        </div>
        
        <div class="meta-item">
            <p class="meta-label">Costo estimado</p>
            <p class="meta-value">{{ cost }}</p>
        </div>
    </div>
    
    <!-- Content section -->
    <div class="content-section">
        <div class="card content-card">
            <h2>Descripción</h2>
            <p>{{ description }}</p>
        </div>
        
        {% if introduction %}
        <div class="card content-card">
            <h2>Introducción</h2>
            <p>{{ introduction }}</p>
        </div>
        {% endif %}
        
        {% if limitations %}
        <div class="card content-card">
            <h2>Limitaciones</h2>
            <ul>{% for limitation in limitations %}
                <li>{{ limitation }}</li>
                {% endfor %}</ul>
        </div>
        {% endif %}
        
        {% if benefits %}
        <div class="card content-card">
            <h2>Beneficios</h2>
            <ul>{% for benefit in benefits %}
                <li>{{ benefit }}</li>
                {% endfor %}</ul>
        </div>
        {% endif %}
        
        {% if space_requirements %}
        <div class="card content-card">
            <h2>Requisitos de espacio</h2>
            <ul>{% for requirement in space_requirements %}
                <li>{{ requirement }}</li>
                {% endfor %}</ul>
        </div>
        {% endif %}
        
        {% if materials %}
        <div class="card content-card">
            <h2>Materiales necesarios</h2>
            <ul>{% for material in materials %}
                <li>{{ material }}</li>
                {% endfor %}</ul>
        </div>
        {% endif %}
        
        {% if setup_instructions %}
        <div class="card content-card">
            <h2>Pasos para implementar</h2>
            <ol>{% for step in setup_instructions %}
                <li>{{ step }}</li>
                {% endfor %}</ol>
        </div>
        {% endif %}
        
        {% if maintenance_tips %}
        <div class="card content-card">
            <h2>Mantenimiento</h2>
            <ul>{% for tip in maintenance_tips %}
                <li>{{ tip }}</li>
                {% endfor %}</ul>
        </div>
        {% endif %}
        
        {% if recommended_plants %}
        <div class="card content-card">
            <h2>Plantas recomendadas</h2>
            <ul>{% for plant in recommended_plants %}
                <li>{{ plant }}</li>
                {% endfor %}</ul>
        </div>
        {% endif %}
        
        {% if tips %}
        <div class="card content-card">
            <h2>Consejos y trucos</h2>
            <ul>{% for tip in tips %}
                <li>{{ tip }}</li>
                {% endfor %}</ul>
        </div>
        {% endif %}
        
        {% if conclusion %}
        <div class="card content-card">
            <h2>Conclusión</h2>
            <p>{{ conclusion }}</p>
        </div>
        {% endif %}
        
        {% if resources %}
        <div class="card content-card">
            <h2>Recursos adicionales</h2>
            <ul>{% for resource in resources %}
                <li><a href="{{ resource.url }}" target="_blank" rel="noopener noreferrer">{{ resource.title }}</a></li>
                {% endfor %}</ul>
        </div>
        {% endif %}
        
        {% if gallery_images %}
        <div class="card content-card">
            <h2>Galería</h2>
            <div class="gallery-grid">
                {% for image in gallery_images %}
                <div class="gallery-item">
                    <img src="{{ image.url }}" alt="{{ image.alt }}">
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}
        
        <!-- Recuadros adicionales para imágenes -->
        <div class="additional-images-container">
            <div class="card image-card image-card-left">
                {% if image_fifth %}
                <img src="{{ image_fifth }}" alt="Imagen adicional 1">
                {% else %}
                <div class="placeholder-image">
                    <div class="placeholder-text">{{ technique_type }} - Imagen Adicional 1</div>
                </div>
                {% endif %}
            </div>
            
            <div class="card image-card image-card-right">
                {% if image_sixth %}
                <img src="{{ image_sixth }}" alt="Imagen adicional 2">
                {% else %}
                <div class="placeholder-image">
                    <div class="placeholder-text">{{ technique_type }} - Imagen Adicional 2</div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
